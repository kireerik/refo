var script;window.load||window.addEventListener("load",function e(){quicklink.listen({delay:1e3}),window.removeEventListener("load",e)}),window.load||(window.scriptLoaded={},(script=function(){return document.head.querySelectorAll("script[data-load]")})().forEach(function(e){(e=e.src)&&(window.scriptLoaded[e]=!0)}),window.load=function(e){var n=new XMLHttpRequest;n.open("GET",e),n.send(),n.addEventListener("load",function(){document.documentElement.innerHTML=this.response,script().forEach(function(e){var n=e.src;if(!n||!window.scriptLoaded[n]){n&&(window.scriptLoaded[n]=!0);for(var t=document.createElement("script"),r=0;r<e.attributes.length;r++){var o=e.attributes[r];"data-load"!=o.name&&t.setAttribute(o.name,o.value)}t.innerHTML=e.innerHTML,document.head.replaceChild(t,e)}});var e=document.createEvent("HTMLEvents");e.initEvent("load",!0,!1),window.dispatchEvent(e)})},window.addEventListener("popstate",function(){load(location.href)})),window.addEventListener("load",function(){[].forEach.call(document.getElementsByTagName("a"),function(e){"_blank"!=e.target&&e.addEventListener("click",function(e){e.preventDefault(),e=e.target.href,load(e),history.pushState({},"",e)})})}),function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.quicklink={})}(this,function(e){function o(r){return new Promise(function(e,n,t){(t=new XMLHttpRequest).open("GET",r,t.withCredentials=!0),t.onload=function(){(200===t.status?e:n)()},t.send()})}var n,i=(n=document.createElement("link")).relList&&n.relList.supports&&n.relList.supports("prefetch")?function(r){return new Promise(function(e,n,t){(t=document.createElement("link")).rel="prefetch",t.href=r,t.onload=e,t.onerror=n,document.head.appendChild(t)})}:o,w=window.requestIdleCallback||function(e){var n=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-n))}})},1)},v=new Set,E=new Set,g=!1;function a(e){if(e){if(e.saveData)return new Error("Save-Data is enabled");if(/2g/.test(e.effectiveType))return new Error("network conditions are poor")}return!0}function L(e,n,t){var r=a(navigator.connection);return r instanceof Error?Promise.reject(new Error("Cannot prefetch, "+r.message)):(0<E.size&&!g&&console.warn("[Warning] You are using both prefetching and prerendering on the same document"),Promise.all([].concat(e).map(function(e){if(!v.has(e))return v.add(e),(n?function(e){return window.fetch?fetch(e,{credentials:"include"}):o(e)}:i)(new URL(e,location.href).toString())})))}function y(e,n){var t=a(navigator.connection);if(t instanceof Error)return Promise.reject(new Error("Cannot prerender, "+t.message));if(!HTMLScriptElement.supports("speculationrules"))return L(e),Promise.reject(new Error("This browser does not support the speculation rules API. Falling back to prefetch."));if(document.querySelector('script[type="speculationrules"]'))return Promise.reject(new Error("Speculation Rules is already defined and cannot be altered."));for(var r=0,o=[].concat(e);r<o.length;r+=1){var i=o[r];if(window.location.origin!==new URL(i,window.location.href).origin)return Promise.reject(new Error("Only same origin URLs are allowed: "+i));E.add(i)}return 0<v.size&&!g&&console.warn("[Warning] You are using both prefetching and prerendering on the same document"),!0===(t=function(e){var n=document.createElement("script");n.type="speculationrules",n.text='{"prerender":[{"source": "list","urls": ["'+Array.from(e).join('","')+'"]}]}';try{document.head.appendChild(n)}catch(e){return e}return!0}(E))?Promise.resolve():Promise.reject(t)}e.listen=function(t){var r,o,i,n,a,c,s,e,u,d,f,l,p,h;if(t=t||{},window.IntersectionObserver)return l=t.throttle||1/0,p=[],r=(e=[function(e){1<p.push(e)||m()},function(){h--,m()}])[h=0],o=e[1],i=t.limit||1/0,n=t.origins||[location.hostname],a=t.ignores||[],c=t.delay||0,s=[],e=t.timeoutFn||w,u="function"==typeof t.hrefFn&&t.hrefFn,d=t.prerender||!1,g=t.prerenderAndPrefetch||!1,f=new IntersectionObserver(function(e){e.forEach(function(e){var n;e.isIntersecting?(s.push((e=e.target).href),n=function(){-1!==s.indexOf(e.href)&&(f.unobserve(e),(g||d)&&E.size<1?y(u?u(e):e.href).catch(function(e){if(!t.onError)throw e;t.onError(e)}):v.size<i&&!d&&r(function(){L(u?u(e):e.href,t.priority).then(o).catch(function(e){o(),t.onError&&t.onError(e)})}))},c?setTimeout(n,c):n()):-1<(n=s.indexOf((e=e.target).href))&&s.splice(n)})},{threshold:t.threshold||0}),e(function(){(t.el||document).querySelectorAll("a").forEach(function(e){n.length&&!n.includes(e.hostname)||function n(t,e){return Array.isArray(e)?e.some(function(e){return n(t,e)}):(e.test||e).call(e,t.href,t)}(e,a)||f.observe(e)})},{timeout:t.timeout||2e3}),function(){v.clear(),f.disconnect()};function m(){h<l&&0<p.length&&(p.shift()(),h++)}},e.prefetch=L,e.prerender=y});